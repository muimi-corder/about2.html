<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoneyNote Clone</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .numpad button { @apply bg-white py-4 text-xl font-semibold border border-gray-100 active:bg-gray-200 transition-colors; }
        .category-btn { @apply flex flex-col items-center justify-center p-2 rounded-xl border border-transparent active:bg-blue-50; }
        .category-icon { @apply w-12 h-12 rounded-full flex items-center justify-center text-2xl mb-1; }
    </style>
</head>
<body class="bg-gray-50 flex flex-col h-screen max-w-md mx-auto border-x shadow-lg">

    <header class="bg-white p-4 border-b flex justify-between items-center">
        <button class="text-gray-400 text-xl">ï¼œ</button>
        <div class="text-center font-bold">2026å¹´ 2æœˆ</div>
        <button class="text-gray-400 text-xl">ï¼</button>
    </header>

    <div class="bg-white p-4 flex justify-around text-sm border-b">
        <div class="text-center"><p class="text-gray-500">æ”¯å‡º</p><p class="text-red-500 font-bold" id="total-out">Â¥0</p></div>
        <div class="text-center"><p class="text-gray-500">åå…¥</p><p class="text-blue-500 font-bold">Â¥0</p></div>
        <div class="text-center"><p class="text-gray-500">æ®‹é«˜</p><p class="font-bold text-gray-800">Â¥0</p></div>
    </div>

    <div id="list" class="flex-1 overflow-y-auto p-2 space-y-2">
        </div>

    <div class="bg-white border-t p-4 shadow-2xl">
        <div class="flex justify-between items-end mb-4">
            <span id="selected-cat" class="text-gray-500 font-medium">ã‚«ãƒ†ã‚´ãƒªã‚’é¸æŠ</span>
            <span id="display" class="text-3xl font-bold text-gray-800">Â¥ 0</span>
        </div>

        <div class="grid grid-cols-4 gap-2 mb-4">
            <button onclick="setCat('é£Ÿè²»', 'ğŸ”', 'bg-orange-100')" class="category-btn">
                <div class="category-icon bg-orange-100">ğŸ”</div><span class="text-xs">é£Ÿè²»</span>
            </button>
            <button onclick="setCat('æ—¥ç”¨å“', 'ğŸ ', 'bg-blue-100')" class="category-btn">
                <div class="category-icon bg-blue-100">ğŸ </div><span class="text-xs">æ—¥ç”¨å“</span>
            </button>
            <button onclick="setCat('äº¤éš›è²»', 'â˜•', 'bg-pink-100')" class="category-btn">
                <div class="category-icon bg-pink-100">â˜•</div><span class="text-xs">äº¤éš›è²»</span>
            </button>
            <button onclick="setCat('äº¤é€šè²»', 'ğŸšƒ', 'bg-green-100')" class="category-btn">
                <div class="category-icon bg-green-100">ğŸšƒ</div><span class="text-xs">äº¤é€šè²»</span>
            </button>
        </div>

        <div class="grid grid-cols-4 gap-1 numpad">
            <button onclick="press(7)">7</button><button onclick="press(8)">8</button><button onclick="press(9)">9</button>
            <button onclick="clearDisp()" class="text-red-500">C</button>
            <button onclick="press(4)">4</button><button onclick="press(5)">5</button><button onclick="press(6)">6</button>
            <button class="bg-gray-50 text-gray-400">Ã·</button>
            <button onclick="press(1)">1</button><button onclick="press(2)">2</button><button onclick="press(3)">3</button>
            <button class="bg-gray-50 text-gray-400">Ã—</button>
            <button onclick="press(0)">0</button><button onclick="press('00')">00</button><button onclick="save()" class="col-span-2 bg-blue-500 !text-white !border-none">å…¥åŠ›</button>
        </div>
    </div>

    <script>
        let currentAmount = "";
        let currentCat = { name: "", icon: "", color: "" };
        let total = 0;

        function press(num) {
            currentAmount += num;
            updateDisplay();
        }

        function clearDisp() {
            currentAmount = "";
            updateDisplay();
        }

        function updateDisplay() {
            document.getElementById('display').innerText = "Â¥ " + (Number(currentAmount).toLocaleString() || "0");
        }

        function setCat(name, icon, color) {
            currentCat = { name, icon, color };
            document.getElementById('selected-cat').innerText = icon + " " + name;
        }

        function save() {
            if (!currentAmount || !currentCat.name) return alert("ã‚«ãƒ†ã‚´ãƒªã¨é‡‘é¡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„");
            
            const list = document.getElementById('list');
            const item = document.createElement('div');
            item.className = "flex justify-between items-center bg-white p-3 rounded-lg shadow-sm border-l-4 " + currentCat.color.replace('bg-', 'border-');
            item.innerHTML = `<div class="flex items-center">
                                <span class="text-xl mr-3">${currentCat.icon}</span>
                                <span class="font-medium">${currentCat.name}</span>
                              </div>
                              <span class="font-bold">-Â¥${Number(currentAmount).toLocaleString()}</span>`;
            list.prepend(item);

            total += Number(currentAmount);
            document.getElementById('total-out').innerText = "Â¥" + total.toLocaleString();

            currentAmount = "";
            updateDisplay();
        }
    </script>
</body>
</html>
